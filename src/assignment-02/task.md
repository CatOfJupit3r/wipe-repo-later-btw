Тема: Структури управління в PHP. Оператори циклу while, do-while, for

Мета: Ознайомлення з варіантами використання операторів циклу з перед- while та післяумовою do-while, оператора циклу for. Дослідження особливостей використання засобів для переривання виконання операцій break та продовження ітерацій continue.

Теоретичні відомості

Цикли while

Цикли while є найпростішим видом циклів в PHP. Вони поводяться так само, як аналогічні цикли мови C. Найпростішою формою циклу while є вираз:

while (умовний вираз)

дія;

Зміст while дуже простий. Він вказує PHP виконувати вкладену дію повторно до тих пір, поки умовний вираз у while є TRUE. Значення умовного виразу перевіряється кожен раз перед початком циклу, тому навіть якщо значення виразу зміниться в процесі виконання вкладених виразів в циклі, виконання не припиниться до кінця ітерації (кожен раз, коли PHP виконує дію в циклі – це одна ітерація). Якщо умовний вираз while набуде значення FALSE з самого початку, вкладена дія жодного разу не буде виконана.

Подібно до оператора if , можна групувати кілька виразів всередині одного циклу while, вкладаючи ці вирази між фігурними дужками або використовуючи альтернативний синтаксис:

while (умовний вираз):

    дія

    ...

endwhile;

Наступні приклади ідентичні. Обидва виведуть числа від 1 до 10:

/_ приклад 1 _/

$i = 1;

while ($i <= 10) {

    echo $i++;  /* буде виводитися значення змінної

                   $i перед її збільшенням

                   (post-increment) */

}

/_ приклад 2 _/

$i = 1;

while ($i <= 10):

    echo $i;

    $i++;

endwhile;

Цикли do-while

Цикл do-while дуже схожий на цикл while, з тією відмінністю, що істинність виразу перевіряється в кінці ітерації. Головна відмінність від звичайного циклу while в тому, що перша ітерація циклу do-while гарантовано виконається (істинність виразу перевіряється в кінці ітерації), тоді як вона може не виконатися в звичайному циклі while (істинність виразу якого перевіряється на початку виконання кожної ітерації, і якщо спочатку має значення FALSE, то виконання циклу буде перервано відразу).

Є тільки один варіант синтаксису циклу do-while:

$i = 0;

do {

    echo $i;

} while ($i > 0);

У прикладі цикл буде виконано рівно один раз, так як після першої ітерації, коли перевіряється істинність виразу, вона буде обчислена як FALSE( $i не є більшою за 0) і виконання циклу припиниться.

Можливе використання циклу do-while, яке дозволяє зупинити виконання ходу програми в середині блоку, для цього потрібно обернути потрібний блок коду викликом do-while (0) і використовувати break. Наступний фрагмент коду демонструє цей підхід:

do {

    if ($i < 5) {

        echo "i ще недостатньо велике";

        break;

    }

    $i *= $factor;

    if ($i < $minimum_limit) {

        break;

    }

echo "значение i вже подходить";

    /* обробка i */

} while (0);

Починаючи з версії PHP 5.3.0, замість подібного "хака", стало можливим використовувати оператор goto.

Цикли for

Цикл for найскладніший цикл в PHP. Він веде себе так само як його аналог в мові C. Синтаксис циклу for наступний:

for (вираз1; вираз2; вираз3)

    дія

Перший вираз (вираз1) завжди обчислюється (виконується) тільки один раз на початку циклу.

На початку кожної ітерації оцінюється вираз вираз2. Якщо він приймає значення TRUE, то цикл триває, і вкладені оператори будуть виконані. Якщо воно приймає значення FALSE, виконання циклу закінчується.

В кінці кожної ітерації обчислюється вираз вираз3 (виконується).

Кожне з виразів може бути порожнім або містити кілька виразів, розділених комами. У виразі2 всі вирази, розділені комами, обчислюються, але результат береться з останнього. Якщо вираз виразі2 відсутній, це означає, що цикл буде виконуватися нескінченно. (PHP неявно сприймає це значення як TRUE, так само як в мові C). Часто необхідно перервати цикл, використовуючи умовний оператор break замість використання виразу2 в циклі for, який приймає істинне значення.

Розглянемо наступні приклади. Всі відображають числа від 1 до 10:

/_ приклад 1 _/

for (Hspan style="color: #0000BB">$i = 1; $i <= 10; $i++) {

    echo $i;

}

/_ приклад 2 _/

for ($i = 1; ; $i++) {

    if ($i > 10) {

        break;

    }

    echo $i;

}

/_ приклад 3 _/

$i = 1;

for (; ; ) {

    if ($i > 10) {

        break;

    }

    echo $i;

    $i++;

}

/_ приклад 4 _/

for ($i = 1, $j = 0; $i <= 10; $j += $i, print $i, $i++);

PHP також підтримує альтернативний синтаксис з двокрапкою для циклів for .

for (вираз1; вираз2; вираз3):

    дія

    ...

endfor;

Завдання:

Створити web-документ для табулювання функції y згідно з варіантом. Варіант вибирається відповідно до вашого номера в журналі). Табулювання виконати з використанням операторів циклу while, while (альтернативний синтаксис), do-while, for, for (альтернативний синтаксис).

Обчислювану формулу вивести у web-документі у вигляді рисунка.

Обчислені значення вивести в окремих блоках div. Початкова висота блоку для першої ітерації рівна номеру варіанту помноженому на 3. Початкова ширина блоку для першої ітерації рівна номеру варіанту помноженому на 5. Розмір блоку для кожної наступної ітерації збільшується на 10px по ширині та 5px по висоті. Десяткова нотація фонового кольору та кольору рамки блоку для першої ітерації має бути кратна варіанту. Фоновий колір та колір рамки для блоків наступних ітерацій мають змінюватись на 7 в десятковій нотації кольору.

У web-документі засобами PHP додатково вивести інформацію про розробника (група, прізвище, ім’я, по батькові), дату створення документу, поточну дату.

Web-документ зберегти та розмістити в окремому каталозі на хостингу, зареєстрованому в лабораторній роботі №2 з попереднього семестру.

Протабулювати значення функції y, якщо вхідна інформація:

---

a | 1 | 3 | 5 | 7 | 9 | 11 | 13 | 15 | 17 | 19
b | 2 | 6 | 10 | 14 | 18 | 22 | 26 | 30 | 34 | 38
c | 46 | 41 | 36 | 31 | 26 | 21 | 16 | 11 | 6 | 1
x | 4 | 7 | 10 | 13 | 16 | 19 | 22 | 25 | 28 | 31

Варіант задачі:

y = a * b * c + sqrt(x) + (e^x) + tg(min(a, b, c))
